


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>PARTISN Input and Output Interfaces – pyne.partisn &#8212; PyNE 0.5.8</title>
    <link rel="stylesheet" href="../_static/pyne.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.5.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="../_static/cloud.base.js"></script>
    <script type="text/javascript" src="../_static/cloud.js"></script>
    <link rel="shortcut icon" href="../_static/pyne_icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1"><script type="text/javascript">
var ga_enabled = !$.cookie('disable-ga');
if(ga_enabled){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-37452818-1']);
  _gaq.push(['_setCookiePath', '/']);
  _gaq.push(['_setDetectFlash', false]);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">PyNE</a> &#187;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="partisn-input-and-output-interfaces-pyne-partisn">
<span id="pyne-partisn"></span><h1>PARTISN Input and Output Interfaces – <a class="reference internal" href="#module-pyne.partisn" title="pyne.partisn"><code class="xref py py-mod docutils literal"><span class="pre">pyne.partisn</span></code></a><a class="headerlink" href="#partisn-input-and-output-interfaces-pyne-partisn" title="Permalink to this headline">¶</a></h1>
<p>There is a module for processing input and output for PARTISN.  The
functionality of the module can be obtained by importing as such:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyne</span> <span class="k">import</span> <span class="n">partisn</span>
</pre></div>
</div>
<div class="section" id="partisn-api">
<h2>PARTISN API<a class="headerlink" href="#partisn-api" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-pyne.partisn"></span><p>Module for the production of PartiSn input decks. PartiSn is a discrete
ordinates code produced by Los Almos National Laboratory (LANL). Can be used
to produce neutron, photon, or coupled neutron photon prblems, adjoint or
forward or time dependent problems can be run.</p>
<p>Module is designed to work on 1D, 2D, or 3D Cartesian geometries.</p>
<p>If PyTaps not installed then this module will not work.</p>
<dl class="function">
<dt id="pyne.partisn.format_repeated_vector">
<code class="descclassname">pyne.partisn.</code><code class="descname">format_repeated_vector</code><span class="sig-paren">(</span><em>vector</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#format_repeated_vector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.format_repeated_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates string out of a vector with the PARTISN format for repeated
numbers.</p>
</dd></dl>

<dl class="function">
<dt id="pyne.partisn.isotropic_vol_source">
<code class="descclassname">pyne.partisn.</code><code class="descname">isotropic_vol_source</code><span class="sig-paren">(</span><em>geom</em>, <em>mesh</em>, <em>cells</em>, <em>spectra</em>, <em>intensities</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#isotropic_vol_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.isotropic_vol_source" title="Permalink to this definition">¶</a></dt>
<dd><p>This function creates an isotropic volumetric source within each
requested geometry cell of a DAGMC CAD geometry. This is done by Monte
Carlo ray tracing to determine volume fractions of each source cell within
each mesh volume element. The PARTISN SOURCF card is returned, as well as
the ray-traced volume fractions (dagmc.discretize_geom output), so that ray
tracing does not have to be done twice when using this function with
write_partisn_input. The supplied mesh is also tagged with the calculated
source distribution using this function.</p>
</dd></dl>

<dl class="function">
<dt id="pyne.partisn.mesh_to_isotropic_source">
<code class="descclassname">pyne.partisn.</code><code class="descname">mesh_to_isotropic_source</code><span class="sig-paren">(</span><em>m</em>, <em>tag</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#mesh_to_isotropic_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.mesh_to_isotropic_source" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads an isotropic source definition from a supplied mesh
and creates a corresponding PARTISN SOURCF input card. The input card wraps
to 80 characters and utilizes the “R” repeation notation for zero values 
(e.g. 4R 0 = 0 0 0 0).</p>
</dd></dl>

<dl class="function">
<dt id="pyne.partisn.write_partisn_input">
<code class="descclassname">pyne.partisn.</code><code class="descname">write_partisn_input</code><span class="sig-paren">(</span><em>mesh</em>, <em>hdf5</em>, <em>ngroup</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyne/partisn.html#write_partisn_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyne.partisn.write_partisn_input" title="Permalink to this definition">¶</a></dt>
<dd><p>This function reads a material-laden geometry file and a pre-made PyNE 
mesh object and writes a PARTISN text input file for blocks 1-5. The
following cards are included:</p>
<p>block 1: igeom, ngroup, niso,  mt, nzone, im, it, jm, jt, km, kt,
block 2: xmesh, xints, ymesh, yints, zmesh, zints, zones,
block 3: names,
block 4: matls, assign,
block 5: source.</p>
<p>The ‘source’ card that appears by default is uniform in space and energy
and isotropic in direction. In addition, “suggested” cards are printed, 
commented-out. These suggested cards are the additional cards required for a 
minimum working PARTISN input file:</p>
<p>block 1: isn, maxscm, maxlcm,
block 2: lib, lng, maxord, ihm, iht, ihs, ifido, ititl.</p>
<p>Using the ‘cards’ parameter, any one of these cards (including ‘source’) as
well as any PARTISN input card not specified here can be supplied and 
printed to the input file. Supplied cards will be ommitted from suggested 
cards.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mesh</strong> : PyNE mesh</p>
<blockquote>
<div><p>A premade mesh object that conforms to the geometry. Bounds of the mesh
must correspond to the desired PARTISN coarse mesh intervals. By default
one fine mesh inverval per coarse mesh will be used. This can be changed
with the fine_per_coarse parameter. The sum of all fine mesh intervals 
in the problem must be greater than or equal to 7. Mesh can be 1-D 
(Nx1x1 mesh), 2-D (NxMx1 mesh), or 3-D (NxMxP mesh). Only Cartesian 
meshes are currently supported.</p>
</div></blockquote>
<p><strong>hdf5</strong> : string</p>
<blockquote>
<div><p>File path to a material-laden dagmc geometry file.</p>
</div></blockquote>
<p><strong>ngroup</strong> : int</p>
<blockquote>
<div><p>The number of energy groups in the cross section library.</p>
</div></blockquote>
<p><strong>input_file</strong> : string, optional, default = ‘&lt;hdf5 file name&gt;_partisn.inp’</p>
<blockquote>
<div><p>Desired path of generated PARTISN input file. Any file already existing
by the same name will be overwritten.</p>
</div></blockquote>
<p><strong>cards</strong> : dict, optional, default = {}</p>
<blockquote>
<div><p>This is a dictionary with the following keys: ‘block1’, ‘block2’, 
‘block3’, ‘block4’, ‘block5’. The values are each dicts in the format:</p>
<blockquote>
<div><p>&lt;partisn_card_name&gt;:&lt;partisn_card_value&gt;. These cards will be printed</p>
</div></blockquote>
<p>out in the input file produced by this function. When specifying a
source via this method, the key source be ‘source’ and the value should
the entire source card, including the card name (e.g. source, sourcx, 
sourcef, etc) and ‘=’.</p>
</div></blockquote>
<p><strong>names_dict</strong> : dict, optional, default = None</p>
<blockquote>
<div><p>PyNE element/isotope names to bxslib name assignment. Keys are PyNE
nucids (int) and values are bxslib names (str)
Example: names_dict[250550000] =’mn55’</p>
</div></blockquote>
<p><strong>num_rays</strong> : int, optional, default = 10</p>
<blockquote>
<div><p>For discretize_geom. Structured mesh only. The number of rays to fire 
in each mesh row for each direction.</p>
</div></blockquote>
<p><strong>grid</strong> : boolean, optional, default = False</p>
<blockquote>
<div><p>For discretize_geom. Structured mesh only. If false, rays starting 
points are chosen randomly (on the boundary) for each mesh row. If 
true, a linearly spaced grid of starting points is used, with dimension 
sqrt(num_rays) x sqrt(num_rays). In this case, “num_rays” must be a 
perfect square.</p>
</div></blockquote>
<p><strong>dg</strong> : record array, optional, default = None</p>
<blockquote>
<div><p>The output of pyne.dagmc.discretize_geom(). Use this input option if 
discretize_geom() has already been run, to avoid duplicating this
expensive step.</p>
</div></blockquote>
<p><strong>fine_per_coarse</strong> : int, optional, default = 1</p>
<blockquote>
<div><p>The number of fine mesh intervals per coarse mesh interval.</p>
</div></blockquote>
<p><strong>data_hdf5path</strong> : string, optional, default = /materials</p>
<blockquote>
<div><p>the path in the heirarchy to the data table in an HDF5 file.</p>
</div></blockquote>
<p><strong>nuc_hdf5path</strong> : string, optional, default = /nucid</p>
<blockquote class="last">
<div><p>the path in the heirarchy to the nuclide array in an HDF5 file.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../index.html" title="index">
          <img class="logo" src="../_static/pyne_icon_small.png" alt="Logo"/>
        </a></p><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">PARTISN Input and Output Interfaces – <code class="docutils literal"><span class="pre">pyne.partisn</span></code></a><ul>
<li><a class="reference internal" href="#partisn-api">PARTISN API</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxlocaltoc">
  <h3>Getting Started</h3>
  <ul>
    <li><a href="../install/index.html">Install</a></li>
    <li><a href="../tutorial/index.html">Tutorial</a></li>
    <li><a href="../examples/index.html">Examples</a></li>
  </ul>
  <h3>Using PyNE</h3>
  <ul>
    <li><a href="../usersguide/index.html">User's Guide</a></li>
    <li><a href="index.html">Python API Documentation</a></li>
    <li><a href="../cppapi/index.html">C++ & Fortran API Documentation</a></li>
    <li><a href="mailto:pyne-users+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the <a href="https://groups.google.com/forum/#!forum/pyne-users" target="_blank"> Users</a> mailing list.
    <li><a href="https://github.com/pyne/pyne/issues">Report an Issue</a></li>
  </ul>
  <h3>Contribute</h3>
  <ul>
    <li><a href="../devsguide/index.html">Developer's Guide</a></li>
    <li><a href="http://github.com/pyne/pyne">Source Code</a></li>
    <li><a href="mailto:pyne-users+subscribe@googlegroups.com?subject=Subscribe&body=Send this message to subscribe to the list">Join</a> the
        <a href="https://groups.google.com/forum/#!forum/pyne-users" target="_blank">Developers</a> mailing list.
    <li><a href="../dev_team.html">The PyNE Team</a></li>
  </ul>
  <h3>Learn More</h3>
  <ul>
    <li><a href="../theorymanual/index.html">Theory Manual</a></li>
    <li><a href="../pubs.html">Publications</a></li>
    <li><a href="../previous/index.html">Release Notes</a></li>
    <li><a href="../gsoc/index.html">Project Ideas</a></li>
  </ul>
  </div>
  
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">PyNE</a> &#187;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer">
    <div style="background-color:rgba(255,255,255,0.5);display:inline-block;border-radius:10px;padding:6px;">
        
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011-2017, The PyNE Development Team.
      Last updated on Dec 01, 2017.
    </div><script type="text/javascript">
    if(ga_enabled){
        document.write("<div class=\"footer\">This page uses <a href=\"http://analytics.google.com\">Google Analytics</a> to collect statistics. ");
        document.write("Click <button title=\"set cookie to disable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', 'true', {expires: 3650, path: '/'}); window.location.reload(); return false; \">here</button> to disable analytics for this site.");
        document.write("</div>");
    }else{
        document.write("<div class=\"footer\">Google Analytics has been disabled. ");
        document.write("Click <button title=\"set cookie to re-enable analytics for this site\" class=\"link\" onclick=\"$.cookie('disable-ga', null, {path: '/'}); window.location.reload(); return false; \">here</button> to re-enable analytics for this site.");
    };
</script>
    <!-- cloud_sptheme 1.4 -->
    </div>
    </div>
  </body>
</html>